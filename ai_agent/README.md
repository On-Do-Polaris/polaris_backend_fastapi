# SKAX Physical Risk Analyzer

SKAX 물리적 리스크 분석 에이전트 시스템 (Super Agent 계층 구조)

## 개요

이 시스템은 기후 변화에 따른 물리적 리스크를 분석하기 위한 에이전트 기반 프레임워크입니다.
**Super Agent 계층 구조**를 채택하여 총 25개의 에이전트가 협력하여 리스크를 분석하고 보고서를 생성합니다.
- 데이터 처리: 2개
- 리스크 분석: 18개 Sub Agent (물리적 리스크 9개 + AAL 9개, 병렬 실행)
- 보고서 생성: 5개 (템플릿, 영향 분석, 전략, 생성, 검증)

## 주요 기능

### 1. 데이터 수집 에이전트 (Data Collection Agent)
- 기상 데이터 수집
- 지리 정보 수집
- 기후 시나리오 데이터 수집
- **과거~현재 전력 사용량 데이터 수집** (영향 분석용)

### 2. 취약성 분석 에이전트 (Vulnerability Analysis Agent)
- 건물 연식 분석
- 내진 설계 수준 평가
- 소방차 진입 가능성 분석

### 3. AAL 분석 (9개 Sub Agent)
각 리스크별로 **연평균 재무 손실률(AAL %)** 계산:
- **공식**: AAL(%) = P(H) × 손상률 × (1 - 보험보전율) × 100

**9개 기후 리스크:**
1. 극심한 고온 (High Temperature)
2. 극심한 한파 (Cold Wave)
3. 산불 (Wildfire)
4. 가뭄 (Drought)
5. 물 부족 (Water Scarcity)
6. 해안 홍수 (Coastal Flood)
7. 내륙 홍수 (Inland Flood)
8. 도심 홍수 (Urban Flood)
9. 열대성 태풍 (Typhoon)

### 4. 물리적 리스크 점수 계산 (9개 Sub Agent)
각 리스크별로 **H×E×V (Hazard × Exposure × Vulnerability)** 기반 100점 스케일 점수 산출:
- **Hazard (위해성)**: 기후 데이터 기반 위험도 평가 (0.0-1.0)
- **Exposure (노출도)**: 자산 가치 및 노출 정도 평가 (0.0-1.0)
- **Vulnerability (취약성)**: 건물 및 시설 취약성 평가 (0.0-1.0)
- **100점 변환**: 점수 = H × E × V × 100

### 5. 보고서 템플릿 생성 (Report Template Agent)
- RAG 기반 유사 보고서 검색
- 내용 구조 및 작성 방향 제시
- 리스크별 작성 지침 생성

### 6. 영향 분석 (Impact Analysis Agent) ⭐ 신규
- **전력 사용량 기반 구체적 영향 분석**
- 리스크별 과거 데이터 패턴 분석
- 운영 비용 및 설비 영향 평가
- 리스크별 영향을 **문장 형태로 구체적 설명**
- 예: "극심한 고온 리스크는 폭염 기간 동안 전력 사용량이 평균 대비 15% 증가하며..."

### 7. 대응 전략 생성 (Strategy Generation Agent)
- LLM + RAG 기반 대응 전략 수립
- **물리적 리스크, AAL, 영향 분석 결과를 종합하여 전략 수립**
- 유사 사례 참조 및 리스크별 맞춤 전략
- 우선순위 기반 실행 계획

### 8. 최종 보고서 생성 (Report Generation Agent)
- 모든 분석 결과 통합
- 종합 보고서 작성
- 시각화 포함

### 9. 검증 에이전트 (Validation Agent)
- 분석 결과 품질 검증
- 데이터 일관성 체크
- 자동 재시도 (최대 3회)
